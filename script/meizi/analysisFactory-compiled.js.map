{"version":3,"sources":["crawlerFactory.js"],"names":[],"mappings":";;AAIA;;;;;;AAEA,OAAO,OAAP,GAAkB,MAAM,cAAN,CAAoB;;AAGpC;;;;AAIA,gBAAc,IAAd,EAAmB;AACjB,QAAI,IAAI,kBAAQ,IAAR,CAAa,IAAb,CAAR,CADiB,CACW;AAC5B;AACA,QAAI,kBAAkB,EAAE,cAAF,EAAkB,IAAlB,CAAuB,cAAvB,CAAtB;AACA,QAAI,UAAU,EAAE,cAAF,EAAkB,IAAlB,CAAuB,qBAAvB,CAAd;AACA,QAAI,YAAY,IAAI,KAAJ,EAAhB;AACA;AACA,oBAAgB,IAAhB,CAAqB,UAAU,GAAV,EAAc,OAAd,EAAuB;AAC1C,UAAI,cAAc,EAAE,OAAF,CAAlB;AACA,UAAI,IAAI,EAAE,WAAF,EAAe,IAAf,CAAoB,GAApB,CAAR;AACA,UAAI,OAAO,EAAE,CAAF,EAAK,IAAL,CAAU,MAAV,CAAX;AACA,UAAI,QAAQ,EAAE,CAAF,EAAK,IAAL,CAAU,OAAV,CAAZ;AACA,UAAI,MAAM,EAAE,CAAF,EAAK,IAAL,CAAU,KAAV,CAAV;AACA,UAAI,SAAS,EAAE,GAAF,EAAO,IAAP,CAAY,KAAZ,CAAb;AACA,UAAI,YAAY,OAAO,KAAP,CAAa,SAAb,CAAhB;AACA,UAAI,cAAc,UAAU,UAAU,MAAV,GAAmB,CAA7B,EAAgC,QAAhC,EAAlB;AACA,UAAI,UAAU,YAAY,OAAZ,CAAoB,KAApB,EAA0B,EAA1B,CAAd;;AAEA,UAAI,aAAa,EAAE,QAAQ,IAAR,EAAF,CAAjB;AACA,UAAI,YAAa,EAAE,UAAF,EAAc,IAAd,CAAmB,YAAnB,EAAiC,IAAjC,CAAsC,GAAtC,CAAjB;;AAEA,UAAI,YAAY,EAAC,MAAK,IAAN,EAAW,OAAM,KAAjB,EAAuB,OAAM,MAA7B,EAAoC,SAAQ,OAA5C,EAAoD,MAAK,SAAzD,EAAhB;AACA,gBAAU,IAAV,CAAe,SAAf;AACD,KAhBD;;AAkBA,WAAO,SAAP;AACD;;AAjCmC,CAAtC,C,CANA","file":"crawlerFactory-compiled.js","sourcesContent":["/**\n * Created by cly on 2017/4/27.\n */\n\nimport cheerio from \"cheerio\";\n\nmodule.exports =  class crawlerFactory{\n\n\n  /**\n   * 解析首页,返回对象数组\n   * @param html\n   */\n  analysisIndex(html){\n    var $ = cheerio.load(html); //引入cheerio的方法。这样的引入方法可以很好的结合jQuery的用法。\n    //#号是id选择器 .号是class选择器\n    var postContentList = $(\"#maincontent\").find(\".postContent\");\n    var taglist = $(\"#maincontent\").find(\".postmeta  clearfix\");\n    var dateArray = new Array();\n    //解析首页并存入数据\n    postContentList.each(function (idx,element) {\n      var postContent = $(element);\n      var a = $(postContent).find(\"a\");\n      var href = $(a).attr(\"href\");\n      var title = $(a).attr(\"title\");\n      var img = $(a).find(\"img\");\n      var imgSrc = $(img).attr(\"src\");\n      var tempArray = imgSrc.split(\"uploads\");\n      var imgNameTemp = tempArray[tempArray.length - 1].toString();\n      var imgName = imgNameTemp.replace(/\\//g,\"\");\n\n      var tagcontent = $(taglist.next());\n      var tagstring =  $(tagcontent).find(\".metaRight\").find(\"p\");\n\n      var imageItem = {href:href,title:title,thumb:imgSrc,imgName:imgName,tags:tagstring};\n      dateArray.push(imageItem);\n    });\n\n    return dateArray;\n  }\n\n}"]}